<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    
    <!-- Early Resource Hints for Critical Third-Party Domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://images.unsplash.com">
    <link rel="dns-prefetch" href="https://api.gamersstation.eg">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/logo.svg" as="image" type="image/svg+xml">
    <link rel="preload" href="/src/index.css" as="style">
    
    <!-- Prefetch Key Routes -->
    <link rel="prefetch" href="/api/posts?page=1&limit=12">
    <link rel="prefetch" href="/api/categories">
    
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>GamersStation - أكبر سوق للألعاب الإلكترونية في مصر</title>
    <meta name="title" content="GamersStation - أكبر سوق للألعاب الإلكترونية في مصر" />
    <meta name="description" content="اكتشف أفضل الألعاب والأجهزة والإكسسوارات من تجار موثوقين. PlayStation، Xbox، Nintendo، وأجهزة الكمبيوتر. توصيل سريع وأسعار تنافسية." />
    <meta name="keywords" content="ألعاب إلكترونية, بلايستيشن, إكس بوكس, نينتندو, ألعاب كمبيوتر, PS5, Xbox Series X, gaming, مصر, القاهرة, الإسكندرية" />
    <meta name="author" content="GamersStation" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gamersstation.eg/" />
    <meta property="og:title" content="GamersStation - أكبر سوق للألعاب الإلكترونية في مصر" />
    <meta property="og:description" content="اكتشف أفضل الألعاب والأجهزة والإكسسوارات من تجار موثوقين. PlayStation، Xbox، Nintendo، وأجهزة الكمبيوتر." />
    <meta property="og:image" content="https://gamersstation.eg/og-image.jpg" />
    <meta property="og:locale" content="ar_EG" />
    <meta property="og:site_name" content="GamersStation" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://gamersstation.eg/" />
    <meta property="twitter:title" content="GamersStation - أكبر سوق للألعاب الإلكترونية في مصر" />
    <meta property="twitter:description" content="اكتشف أفضل الألعاب والأجهزة والإكسسوارات من تجار موثوقين." />
    <meta property="twitter:image" content="https://gamersstation.eg/og-image.jpg" />
    
    <!-- Additional Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1" />
    <meta name="theme-color" content="#0a1628" />
    <link rel="canonical" href="https://gamersstation.eg/" />
    <link rel="alternate" hreflang="ar-EG" href="https://gamersstation.eg/" />
    <link rel="alternate" hreflang="en-EG" href="https://gamersstation.eg/en/" />
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="GamersStation" />
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Performance Optimizations -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Inline Critical CSS for Faster Initial Paint -->
    <style>
      /* Critical CSS for Above-the-fold Content */
      body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#f5f5f5}
      #root{min-height:100vh}
      .loading-spinner{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite}
      @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
      /* Prevent CLS for hero section */
      .hero{min-height:500px;position:relative}
      @media(max-width:768px){.hero{min-height:400px}}
    </style>
    
    <!-- Async Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    
    <!-- Resource Priority Hints -->
    <script type="speculationrules">
    {
      "prefetch": [
        {
          "source": "list",
          "urls": ["/products", "/login", "/register"]
        }
      ]
    }
    </script>
  </head>
  <body>
    <!-- Loading Fallback -->
    <div id="root">
      <div class="loading-spinner" id="initial-loader"></div>
    </div>
    
    <!-- Inline Script to Remove Loader -->
    <script>
      // Remove loader once React mounts
      window.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          const loader = document.getElementById('initial-loader');
          if (loader) loader.style.display = 'none';
        }, 100);
      });
      
      // Network Information API
      if ('connection' in navigator) {
        const connection = navigator.connection;
        document.documentElement.setAttribute('data-connection', connection.effectiveType);
      }
      
      // Save-Data Detection
      if ('connection' in navigator && navigator.connection.saveData) {
        document.documentElement.setAttribute('data-save-data', 'true');
      }
    </script>
    
    <!-- Main App Script -->
    <script type="module" src="/src/main.jsx"></script>
    
    <!-- Fallback for No JavaScript -->
    <noscript>
      <style>
        .loading-spinner { display: none !important; }
        .noscript-message {
          text-align: center;
          padding: 50px 20px;
          font-family: Arial, sans-serif;
          color: #333;
        }
      </style>
      <div class="noscript-message">
        <h1>JavaScript Required</h1>
        <p>Please enable JavaScript in your browser to use GamersStation.</p>
        <p>يرجى تمكين JavaScript في متصفحك لاستخدام GamersStation.</p>
      </div>
    </noscript>
    
    <!-- Performance Monitoring -->
    <script>
      // Measure Web Vitals
      if ('PerformanceObserver' in window) {
        // Log Largest Contentful Paint
        new PerformanceObserver((entryList) => {
          for (const entry of entryList.getEntries()) {
            console.log('LCP:', entry.startTime);
          }
        }).observe({type: 'largest-contentful-paint', buffered: true});
        
        // Log First Input Delay
        new PerformanceObserver((entryList) => {
          for (const entry of entryList.getEntries()) {
            console.log('FID:', entry.processingStart - entry.startTime);
          }
        }).observe({type: 'first-input', buffered: true});
        
        // Log Cumulative Layout Shift
        new PerformanceObserver((entryList) => {
          let cls = 0;
          for (const entry of entryList.getEntries()) {
            if (!entry.hadRecentInput) {
              cls += entry.value;
            }
          }
          console.log('CLS:', cls);
        }).observe({type: 'layout-shift', buffered: true});
      }
    </script>
  </body>
</html>
